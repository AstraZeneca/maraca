library(devtools)
load_all()
?maraca
?maraca
?maraca
packageVersion("maraca")
citation("maraca")
library(hce)
?calcWO
?calcWO.data.frame
data(HCE4)
calcWO(x = HCE4, AVAL = "AVAL", TRTP = "TRTP", ref = "P")
load_all()
?maraca
data(hce_scenario_a)
hce_test <- maraca(
data = hce_scenario_a,
tte_outcomes = c("Outcome I", "Outcome II", "Outcome III", "Outcome IV"),
continuous_outcome = "Continuous outcome",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "Active", control = "Control"),
compute_win_odds = TRUE
)
plot(hce_test)
data(HCE4)
fit <- calcWO(x = HCE4, AVAL = "AVAL", TRTP = "TRTP", ref = "P")
fit$Pvalue
CI <- fit[, c("WO", "LCL", "UCL")]
p <- fit$Pvalue
CI
class(CI)
as.numeric(CI)
win_odds <- c(CI, p)
win_odds
load_all()
data(hce_scenario_a)
hce_test <- maraca(
data = hce_scenario_a,
tte_outcomes = c("Outcome I", "Outcome II", "Outcome III", "Outcome IV"),
continuous_outcome = "Continuous outcome",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "Active", control = "Control"),
compute_win_odds = TRUE
)
plot(hce_test)
?simHCE
Rates_A <- c(1.72, 1.74, 0.58, 1.5, 1)
Rates_P <- c(2.47, 2.24, 2.9, 4, 6)
dat0 <- simHCE(n = 10000, TTE_A = Rates_A, TTE_P = Rates_P,
CM_A = -3, CM_P = -6, CSD_A = 16, CSD_P = 15, fixedfy = 3)
str(dat0)
data(hce_scenario_a)
hce_test <- maraca(
data = dat0,
tte_outcomes = c("TTE1", "TTE2", "TTE3", "TTE4"),
continuous_outcome = "C",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "A", control = "P"),
compute_win_odds = TRUE
)
library(devtools)
load_all
load_all()
?.compute_win_odds
use_package("hce")
?maraca
data(hce_scenario_a)
hce_test <- maraca(
data = hce_scenario_a,
tte_outcomes = c("Outcome I", "Outcome II", "Outcome III", "Outcome IV"),
continuous_outcome = "Continuous outcome",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "Active", control = "Control"),
compute_win_odds = TRUE
)plot(hce_test)
data(hce_scenario_a)
hce_test <- maraca(
data = hce_scenario_a,
tte_outcomes = c("Outcome I", "Outcome II", "Outcome III", "Outcome IV"),
continuous_outcome = "Continuous outcome",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "Active", control = "Control"),
compute_win_odds = TRUE
)
plot(hce_test)
library(devtools)
load_all()
?simulate
?hce::simHCE
Rates_A <- c(1.72, 1.74, 0.58, 1.5, 1)
Rates_P <- c(2.47, 2.24, 2.9, 4, 6)
dat0 <- simHCE(n = 10000, TTE_A = Rates_A, TTE_P = Rates_P,
CM_A = -3, CM_P = -6, CSD_A = 16, CSD_P = 15, fixedfy = 3)
Rates_A <- c(1.72, 1.74, 0.58, 1.5, 1)
Rates_P <- c(2.47, 2.24, 2.9, 4, 6)
dat0 <- hce::simHCE(n = 10000, TTE_A = Rates_A, TTE_P = Rates_P,
CM_A = -3, CM_P = -6, CSD_A = 16, CSD_P = 15, fixedfy = 3)
str(dat0)
maraca(dat0, tte_outcomes = sort(unique(dat0$GROUP)))
unique(dat0$GROUP)
unique(dat0$GROUP)!="C"
unique(dat0$GROUP)[unique(dat0$GROUP)!="C"]
sort(unique(dat0$GROUP)[unique(dat0$GROUP)!="C"])
maraca(dat0, tte_outcomes = sort(unique(dat0$GROUP)[unique(dat0$GROUP)!="C"]), continuous_outcome = "C")
?maraca
maraca(dat0, tte_outcomes = sort(unique(dat0$GROUP)[unique(dat0$GROUP)!="C"]), continuous_outcome = "C", arm_levels = c(active = "active", control = "control"),
column_names = c(outcome = "outcome", arm = "arm", value = "value"))
hce_test <- maraca(
data = dat0,
tte_outcomes = c("TTE1", "TTE2", "TTE3", "TTE4", "TTE5"),
continuous_outcome = "C",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "A", control = "C"),
compute_win_odds = TRUE
)
unique(dat0$GROUP)
unique(dat0$GROUP)
unique(dat0$GROUPN)
unique(dat0$TRTP)
hce_test <- maraca(
data = dat0,
tte_outcomes = c("TTE1", "TTE2", "TTE3", "TTE4", "TTE5"),
continuous_outcome = "C",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "A", control = "P"),
compute_win_odds = TRUE
)
unique(hce_scenario_a$TRTP)
class(hce_scenario_a$TRTP)
attributes(hce_scenario_a$TRTP)
library(devtools)
load_all()
load_all()
?hce::simHCE
Rates_A <- c(1.72, 1.74, 0.58, 1.5, 1)
Rates_P <- c(2.47, 2.24, 2.9, 4, 6)
dat0 <- hce::simHCE(n = 2500, TTE_A = Rates_A, TTE_P = Rates_P,
CM_A = -3, CM_P = -6, CSD_A = 16, CSD_P = 15, fixedfy = 3)
str(dat0)
?maraca
fit <- maraca(
data = dat0,
tte_outcomes = paste0(c("TTE"), 1:5),
continuous_outcome = "C",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "A", control = "P"),
compute_win_odds = TRUE
)
load_all()
fit <- maraca(
data = dat0,
tte_outcomes = paste0(c("TTE"), 1:5),
continuous_outcome = "C",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "A", control = "P"),
compute_win_odds = TRUE
)
unique(dat0$TRTP)
library(hce)
do.call("`<-`", x, 1)
do.call("`<-`", "x", 1)
?do.call
?calcWO.data.frame
calcWO(x = dat0, AVAL = "AVAL", TRTP = "TRTP", ref = "P")
calcWO(x = dat0, AVAL = "AVAL", TRTP = "TRTP")
fit <- maraca(
data = dat0,
tte_outcomes = paste0(c("TTE"), 1:5),
continuous_outcome = "C",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "A", control = "P"),
compute_win_odds = TRUE
)
rm(list = ls())
########################
library(hce)
?calcWO
?simHCE
Rates_A <- c(1.72, 1.74, 0.58, 1.5, 1)
Rates_P <- c(2.47, 2.24, 2.9, 4, 6)
dat0 <- simHCE(n = 2500, TTE_A = Rates_A, TTE_P = Rates_P,
CM_A = -3, CM_P = -6, CSD_A = 16, CSD_P = 15, fixedfy = 3)
str(dat0)
Rates_A <- c(1.72, 1.74)
Rates_P <- c(2.47, 2.24)
dat0 <- simHCE(n = 2500, TTE_A = Rates_A, TTE_P = Rates_P,
CM_A = -3, CM_P = -6, CSD_A = 16, CSD_P = 15, fixedfy = 3)
str(dat0)
dat1 <- dat0
unique(dat0$GROUPN)
View(dat0)
dat0$AVAL <- ifelse(!dat0$GROUP%in% c("TTE1"), 20000, dat0$AVAL)
?calcWO.data.frame
calcWO(dat0)
dat1 <- dat0
dat1$AVAL <- ifelse(!dat1$GROUP%in% c("TTE1"), 20000, dat1$AVAL)
calcWO(dat1)
calcWO(dat0)
dat1 <- dat0
dat0 <- simHCE(n = 2500, TTE_A = Rates_A, TTE_P = Rates_P,
CM_A = -3, CM_P = -6, CSD_A = 16, CSD_P = 15, fixedfy = 3)
Rates_A <- c(1.72, 1.74)
Rates_P <- c(2.47, 2.24)
dat0 <- simHCE(n = 2500, TTE_A = Rates_A, TTE_P = Rates_P,
CM_A = -3, CM_P = -6, CSD_A = 16, CSD_P = 15, fixedfy = 3)
calcWO(dat0)
dat1 <- dat0
dat1$AVAL <- ifelse(dat1$GROUP%in% c("TTE1"), dat1$AVAL, 20000)
calcWO(dat1)
dat2 <- dat0
dat2$AVAL <- ifelse(dat1$GROUP%in% c("TTE1", "TTE2"), dat2$AVAL, 30000)
calcWO(dat1)
calcWO(dat0)
dat1 <- dat0
dat1$AVAL <- ifelse(dat1$GROUP%in% c("TTE1"), dat1$AVAL, max(dat0$GROUPN))
calcWO(dat1)
dat2 <- dat0
dat2$AVAL <- ifelse(dat1$GROUP%in% c("TTE1", "TTE2"), dat2$AVAL, max(dat0$GROUPN))
calcWO(dat1)
dat2 <- dat0
dat2$AVAL <- ifelse(dat2$GROUP%in% c("TTE1", "TTE2"), dat2$AVAL, max(dat0$GROUPN))
calcWO(dat1)
calcWO(dat2)
?maraca
rm(list = ls())
load_all()
data(hce_scenario_a)
hce_test <- maraca(
data = hce_scenario_a,
tte_outcomes = c("Outcome I", "Outcome II", "Outcome III", "Outcome IV"),
continuous_outcome = "Continuous outcome",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "Active", control = "Control"),
compute_win_odds = TRUE
)
load_all()
data(hce_scenario_a)
hce_test <- maraca(
data = hce_scenario_a,
tte_outcomes = c("Outcome I", "Outcome II", "Outcome III", "Outcome IV"),
continuous_outcome = "Continuous outcome",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "Active", control = "Control"),
compute_win_odds = TRUE
)
plot(hce_test)
head(hce_scenario_a)
data(HCE1)
unique(HCE1$GROUP)
unique(HCE1$TRTP)
hce_test <- maraca(
data = HCE1,
tte_outcomes = paste0("TTE", 1:4),
continuous_outcome = "C",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "A", control = "P"),
compute_win_odds = TRUE
)
plot(hce_test)
HCE <- hce(HCE1)
new_hce(HCE1)
HCE <- new_hce(HCE1)
hce_test <- maraca(
data = HCE,
tte_outcomes = paste0("TTE", 1:4),
continuous_outcome = "C",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "A", control = "P"),
compute_win_odds = TRUE
)
plot(hce_test)
load_all()
data(HCE1)
HCE <- new_hce(HCE1)
hce_test <- maraca(
data = HCE,
tte_outcomes = paste0("TTE", 1:4),
continuous_outcome = "C",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "A", control = "P"),
compute_win_odds = TRUE
)
plot(hce_test)
load_all()
?maraca
?simHCE
Rates_A <- c(1.72, 1.74, 0.58, 1.5, 1)
Rates_P <- c(2.47, 2.24, 2.9, 4, 6)
dat0 <- simHCE(n = 10000, TTE_A = Rates_A, TTE_P = Rates_P,
CM_A = -3, CM_P = -6, CSD_A = 16, CSD_P = 15, fixedfy = 3)
str(dat0)
hce_test <- maraca(
data = dat0,
tte_outcomes = paste0("TTE", 1:4),
continuous_outcome = "C",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "A", control = "P"),
compute_win_odds = TRUE
)
plot(hce_test)
check()
Rates_A <- c(1.72, 1.74, 0.58, 1.5, 1)
Rates_P <- c(2.47, 2.24, 2.9, 4, 6)
dat0 <- simHCE(n = 100, TTE_A = Rates_A, TTE_P = Rates_P,
CM_A = -3, CM_P = -6, CSD_A = 16, CSD_P = 15, fixedfy = 3)
str(dat0)
hce_test <- maraca(
data = dat0,
tte_outcomes = paste0("TTE", 1:4),
continuous_outcome = "C",
column_names = c(outcome = "GROUP", arm = "TRTP", value = "AVAL0"),
arm_levels = c(active = "A", control = "P"),
compute_win_odds = TRUE
)
plot(hce_test)
load_all()
check()
check()
library(devtools)
document()
